<?xml version='1.1' encoding='UTF-8'?>
<project>
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.model.ParametersDefinitionProperty>
      <parameterDefinitions>
        <hudson.model.StringParameterDefinition>
          <name>BODY</name>
          <description>Body passed via POST request, containing information like, of release which should be used to deploy and name of deployment on cluster, as name should be unique, same name as release cannot be used, link is also sent used for ingress.</description>
          <defaultValue></defaultValue>
          <trim>false</trim>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>HASH</name>
          <description></description>
          <defaultValue></defaultValue>
          <trim>false</trim>
        </hudson.model.StringParameterDefinition>
      </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers/>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>#!/bin/bash
# Install for json data operations
sudo apt-get --assume-yes install jq

AUTHHEADER=$(echo &quot;$BODY&quot; | jq -r &apos;.Authorization&apos;) 
echo &quot;$AUTHHEADER&quot;
UPDATED_BODY=$(echo &quot;$BODY&quot; | jq --arg HASH &quot;$HASH&quot; &apos;. + {sha256: $HASH}&apos;)
echo &quot;$UPDATED_BODY&quot;

RELEASE_RESPONSE_CODE=$(curl -v --http1.1 -H &quot;Authorization: Basic $AUTHHEADER&quot; -X POST <las2peer-registry-url>/las2peer/services/registerClusterService -d &quot;$UPDATED_BODY&quot; | jq -r &apos;.code&apos;)
echo &quot;$RELEASE_RESPONSE_CODE&quot;
if [ &quot;$RELEASE_RESPONSE_CODE&quot; == 200 ]
 then
  echo &quot;Release successfully executed&quot;
else
  echo &quot;Error releasing&quot;
  exit 1
fi

</command>
      <configuredLocalRules/>
    </hudson.tasks.Shell>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>